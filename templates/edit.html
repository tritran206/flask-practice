{% extends "base.html" %}

{% block content %}


{% if watchlist|length ==0 %}
  <h2> There are currently not movies on your Watchlist </h2>

  <h2>Edit My Watchlist</h2>

  <form action="/add" method="post">
      <label>
          I want to add
          <input type="text" name="new-movie"/>
          to my watchlist.
      </label>
      <input type="submit" value="Add It"/>
  </form>

{% else %}

<h2>My Watchlist</h2>
<ul>
  {% for movies in watchlist%}
    <li> {{movies}} </li>
  {% endfor %}
</ul>

<h2>Edit My Watchlist</h2>

<form action="/add" method="post">
    <label>
        I want to add
        <input type="text" name="new-movie"/>
        to my watchlist.
    </label>
    <input type="submit" value="Add It"/>
</form>

<form action="/crossoff" method="post">
    <label>
        I want to cross off
        <select name="crossed-off-movie">
            <!-- need to loop over watchlist to create option elements -->
            {% for movie in watchlist: %}
                <option value="{{ movie }}">{{ movie }}</option>
            {% endfor %}
        </select>
        from my watchlist.
    </label>
    <input type="submit" value="Cross It Off"/>
</form>

{% endif %}


{% if error %}
  <p class='error'>{{ error }}</p>
{% endif %}
{% endblock %}
